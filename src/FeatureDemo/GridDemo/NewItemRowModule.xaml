<local:GridDemoUserControl
    x:Class="GridDemo.NewItemRowModule"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:GridDemo"
    xmlns:data="using:FeatureDemo.Data"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Grid="using:DevExpress.WinUI.Grid"
    xmlns:Common="using:FeatureDemo.Common"
    mc:Ignorable="d">
    <local:GridDemoUserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="ms-appx:///GridDemo/Themes/CustomControlStyles.xaml"/>
                <ResourceDictionary Source="ms-appx:///GridDemo/Themes/InplaceEditingStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <data:ItemsData x:Key="itemsData"/>
            <local:ObservableCollectionConverter x:Key="CollectionConverter"/>
            <local:BoolToNewItemRowPosition x:Key="BoolToNewItemRowPositionConverter"/>
        </ResourceDictionary>
    </local:GridDemoUserControl.Resources>
    <Grid:GridControl Name="grid" 
                      ShowIndicator="True"
                      AddingNewRow="grid_AddingNewRow"
                      ItemsSource="{Binding Path=DataSource, Source={StaticResource itemsData}, Converter={StaticResource CollectionConverter}}" 
                      NavigationStyle="Cell" 
                      NewItemRowPosition="{Binding ElementName=top, Path=IsChecked, Converter={StaticResource BoolToNewItemRowPositionConverter}}"
                      AutoGenerateColumns="False"
                      CellStyle="{StaticResource CellStyle}" 
                      ItemContainerStyle="{StaticResource InplaceEditingItemContainerStyle}"
                      AllowSorting="True"
                      AutoWidth="False"
                      AllowColumnFiltering="False">
        <Grid:GridControl.Columns>
            <Grid:GridTextColumn FieldName="Name" 
                                 CellStyle="{StaticResource NameColumnStyle}"
                                 Width="250"/>
            <Grid:GridComboBoxColumn FieldName="OwnerID" 
                                         Header="Owner" 
                                         ItemsSource="{Binding Path=Users, Source={StaticResource itemsData}}" 
                                         SelectedValuePath="Id"
                                         DisplayMemberPath="Name"
                                         SortMode="DisplayText" 
                                         TextTrimming="CharacterEllipsis"
                                     Width="170"/>
            <Grid:GridDateColumn x:Name="CreatedDate" 
                                     FieldName="CreatedDate" 
                                     Header="Created"
                                     Mask="d"
                                 Width="120"/>
            <Grid:GridComboBoxColumn x:Name="Priority" 
                                         FieldName="Priority" 
                                         SortMode="Value" 
                                         ItemsSource="{Binding Path=Priorities, Source={StaticResource itemsData}}" 
                                         ItemTemplate="{StaticResource PriorityItemTemplate}" DisplayTemplate="{StaticResource PriorityTemplate}" 
                                         Width="140"/>
            <Grid:GridDateColumn x:Name="FixedDate" 
                                 FieldName="FixedDate" 
                                 Header="Fixed"
                                 Mask="d"
                                 Width="120"/>
            <Grid:GridComboBoxColumn x:Name="Status" 
                                     FieldName="Status" 
                                     SortMode="Value" 
                                     ItemsSource="{Binding Path=Statuses, Source={StaticResource itemsData}}" 
                                     DisplayTemplate="{StaticResource StatusImageTemplate}" 
                                     ItemTemplate="{StaticResource StatusItemTemplate}" TextTrimming="CharacterEllipsis"
                                     Width="95"/>
        </Grid:GridControl.Columns>
    </Grid:GridControl>
    <Common:DemoModuleView.Options>
        <Common:OptionsPanel>
            <Common:OptionGroup Header="New Item Row Position">
                <RadioButton x:Name="top" Content="Top" GroupName="NewItemRowPositionGroup" IsChecked="True"/>
                <RadioButton x:Name="bottom" Content="Bottom" GroupName="NewItemRowPositionGroup"/>
            </Common:OptionGroup>
        </Common:OptionsPanel>
    </Common:DemoModuleView.Options>
</local:GridDemoUserControl>
